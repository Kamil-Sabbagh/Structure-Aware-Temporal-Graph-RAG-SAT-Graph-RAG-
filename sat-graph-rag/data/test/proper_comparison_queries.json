{
  "metadata": {
    "description": "Proper baseline comparison queries following paper's evaluation methodology",
    "patterns": [
      "Pattern A: Point-in-Time Retrieval (Temporal Precision Test)",
      "Pattern B: Hierarchical Impact Analysis (Structural Awareness Test)",
      "Pattern C: Provenance & Causal-Lineage Reconstruction (Amendment Tracking Test)"
    ],
    "created": "2026-01-20",
    "based_on": "BASELINE_COMPARISON_PLAN.md"
  },
  "queries": [
    {
      "id": "pattern_a_1",
      "pattern": "point_in_time",
      "category": "temporal_precision",
      "query": "What did Article 214 say in 2005?",
      "target_component": "tit_08_cap_03_sec_01_art_214_art_214",
      "target_date": "2005-01-01",
      "ground_truth": {
        "correct_version": 1,
        "version_valid_range": {
          "start": "1988-10-05",
          "end": "2009-01-01"
        },
        "should_contain_keywords": [
          "lei estabelecerá",
          "plano nacional de educação",
          "educação"
        ],
        "should_not_contain": [
          "EC 59",
          "EC 108",
          "Modified",
          "Added"
        ],
        "sat_graph_expected": "Returns v1 (1988 original text)",
        "baseline_expected": "Returns v4 (2020 text with 'EC 108') - ANACHRONISTIC",
        "evaluation_metric": "temporal_precision"
      }
    },
    {
      "id": "pattern_a_2",
      "pattern": "point_in_time",
      "category": "temporal_precision",
      "query": "What did Article 222 say in 2000?",
      "target_component": "tit_08_cap_05_art_221_inc_IV_art_222",
      "target_date": "2000-01-01",
      "ground_truth": {
        "correct_version": 1,
        "version_valid_range": {
          "start": "1988-10-05",
          "end": "2002-01-01"
        },
        "should_contain_keywords": [
          "propriedade de empresa jornalística",
          "radiodifusão"
        ],
        "should_not_contain": [
          "EC 36",
          "Modified"
        ],
        "sat_graph_expected": "Returns v1 (1988 original)",
        "baseline_expected": "Returns v2 (2002 text) - ANACHRONISTIC",
        "evaluation_metric": "temporal_precision"
      }
    },
    {
      "id": "pattern_a_3",
      "pattern": "point_in_time",
      "category": "temporal_precision",
      "query": "What did ADCT Article 2 say in 1995?",
      "target_component": "tit_09_art_1_art_2",
      "target_date": "1995-01-01",
      "ground_truth": {
        "correct_version": 5,
        "amendment_at_this_date": "ec_6",
        "should_not_retrieve_version": 151,
        "sat_graph_expected": "Returns v5 (from EC 6 in 1995)",
        "baseline_expected": "Returns v151 (current version) - ANACHRONISTIC",
        "evaluation_metric": "temporal_precision",
        "note": "High-complexity test: 151 versions to choose from"
      }
    },
    {
      "id": "pattern_b_1",
      "pattern": "hierarchical",
      "category": "structural_awareness",
      "query": "Which articles in Title VIII have been amended since 2000?",
      "target_component": "tit_08",
      "target_date_range": {
        "start": "2000-01-01",
        "end": "2025-01-01"
      },
      "ground_truth": {
        "correct_articles": [
          "tit_08_cap_03_sec_01_art_214_art_214",
          "tit_08_cap_05_art_221_inc_IV_art_222"
        ],
        "correct_amendments": [
          "ec_36",
          "ec_59",
          "ec_108"
        ],
        "evaluation_metric": "action_attribution_f1",
        "sat_graph_expected": "Traverses HAS_CHILD relationships, finds all amended articles in Title VIII",
        "baseline_expected": "Keyword matching only, cannot understand hierarchy",
        "requires_capabilities": [
          "Hierarchical traversal (HAS_CHILD relationships)",
          "Temporal filtering (amendments since 2000)",
          "Structural grouping (all articles under Title VIII)"
        ]
      }
    },
    {
      "id": "pattern_b_2",
      "pattern": "hierarchical",
      "category": "structural_awareness",
      "query": "Summarize all changes to Title VIII Section 1 (Education) since 2009",
      "target_component": "tit_08_cap_03_sec_01",
      "target_date_range": {
        "start": "2009-01-01",
        "end": "2025-01-01"
      },
      "ground_truth": {
        "correct_articles_affected": [
          "tit_08_cap_03_sec_01_art_214_art_214"
        ],
        "correct_amendments": [
          "ec_59",
          "ec_108"
        ],
        "evaluation_metric": "summary_completeness",
        "sat_graph_expected": "Identifies all Action nodes affecting components under this section",
        "baseline_expected": "Cannot answer (no structural relationships)"
      }
    },
    {
      "id": "pattern_c_1",
      "pattern": "provenance",
      "category": "amendment_tracking",
      "query": "Which amendment first changed Article 214?",
      "target_component": "tit_08_cap_03_sec_01_art_214_art_214",
      "ground_truth": {
        "correct_answer": "ec_59",
        "amendment_date": "2009-01-01",
        "evaluation_metric": "attribution_accuracy",
        "sat_graph_expected": "Returns EC 59 via Action node",
        "baseline_expected": "CANNOT ANSWER (no Action nodes)",
        "baseline_cannot_answer": true
      }
    },
    {
      "id": "pattern_c_2",
      "pattern": "provenance",
      "category": "amendment_tracking",
      "query": "Trace the complete amendment history of Article 214",
      "target_component": "tit_08_cap_03_sec_01_art_214_art_214",
      "ground_truth": {
        "correct_sequence": [
          "ec_59",
          "ec_108"
        ],
        "amendment_dates": [
          "2009-01-01",
          "2020-01-01"
        ],
        "total_amendments": 2,
        "evaluation_metric": "causal_chain_completeness",
        "sat_graph_expected": "Returns complete sequence: EC 59 (2009) → EC 108 (2020)",
        "baseline_expected": "CANNOT ANSWER (no provenance data)",
        "baseline_cannot_answer": true
      }
    },
    {
      "id": "pattern_c_3",
      "pattern": "provenance",
      "category": "amendment_tracking",
      "query": "Which amendment changed Article 222?",
      "target_component": "tit_08_cap_05_art_221_inc_IV_art_222",
      "ground_truth": {
        "correct_answer": "ec_36",
        "amendment_date": "2002-01-01",
        "evaluation_metric": "attribution_accuracy",
        "sat_graph_expected": "Returns EC 36",
        "baseline_expected": "CANNOT ANSWER (no Action nodes)",
        "baseline_cannot_answer": true
      }
    },
    {
      "id": "negative_test_1",
      "pattern": "negative_test",
      "category": "false_positive_prevention",
      "query": "Which amendments have changed Article 1?",
      "target_component": "tit_01_art_1_art_1",
      "ground_truth": {
        "correct_answer": "none",
        "total_versions": 1,
        "sat_graph_expected": "Returns empty list or 'no amendments'",
        "baseline_expected": "May return false positives from keyword matching",
        "evaluation_metric": "precision",
        "note": "Tests that system correctly identifies unamended articles"
      }
    },
    {
      "id": "current_version_test",
      "pattern": "current_state",
      "category": "baseline_can_answer",
      "query": "What does Article 214 say currently?",
      "target_component": "tit_08_cap_03_sec_01_art_214_art_214",
      "target_date": "2025-01-01",
      "ground_truth": {
        "correct_version": 4,
        "should_contain_keywords": [
          "EC 108"
        ],
        "sat_graph_expected": "Returns v4 (current active version)",
        "baseline_expected": "Returns v4 (current version) - CORRECT",
        "evaluation_metric": "accuracy",
        "note": "Sanity check - both systems should handle current queries correctly"
      }
    }
  ],
  "evaluation_metrics": {
    "temporal_precision": {
      "definition": "Percentage of retrieved CTVs that are valid for the query date",
      "formula": "valid_ctvs / total_retrieved_ctvs",
      "expected_sat_graph": "100%",
      "expected_baseline": "0% (always returns current version)"
    },
    "temporal_recall": {
      "definition": "Percentage of all ground-truth relevant CTVs that were retrieved",
      "formula": "retrieved_relevant_ctvs / ground_truth_relevant_ctvs",
      "expected_sat_graph": "High (80-100%)",
      "expected_baseline": "Low (0-20%)"
    },
    "action_attribution_f1": {
      "definition": "F1-score for correctly identifying Action nodes affecting a scope",
      "formula": "2 * (precision * recall) / (precision + recall)",
      "expected_sat_graph": "High (80-100%)",
      "expected_baseline": "0% (no Action nodes)"
    },
    "causal_chain_completeness": {
      "definition": "Percentage of ground-truth causal chain correctly reconstructed",
      "formula": "correct_sequence_length / ground_truth_chain_length",
      "expected_sat_graph": "High (80-100%)",
      "expected_baseline": "0% (cannot answer)"
    },
    "attribution_accuracy": {
      "definition": "Binary - did system correctly identify the amendment?",
      "formula": "1 if correct else 0",
      "expected_sat_graph": "100%",
      "expected_baseline": "0% (cannot answer)"
    }
  },
  "expected_results_summary": {
    "pattern_a_point_in_time": {
      "sat_graph_rag": "100% temporal precision (always returns correct historical version)",
      "baseline_rag": "0% temporal precision (always returns current version - anachronistic)"
    },
    "pattern_b_hierarchical": {
      "sat_graph_rag": "High F1 (can traverse hierarchy and identify affected articles)",
      "baseline_rag": "Low F1 (keyword matching only, no structural understanding)"
    },
    "pattern_c_provenance": {
      "sat_graph_rag": "Can answer all provenance queries (has Action nodes)",
      "baseline_rag": "Cannot answer any provenance queries (no Action nodes, no temporal data)"
    }
  }
}
